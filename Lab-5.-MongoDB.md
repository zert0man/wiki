# Лабораторная работа 5. MongoDB

## Цели работы

- Познакомиться с документоориентированной СУБД MongoDB  и осознать, что на реляционных базах свет клином не сошелся.
- Научиться составлять запросы с использованием Aggregation Framework.

## Задание

Данная лабораторная работа не связана с предыдущими. Задание можно выбрать [здесь](/mesdt/course/wiki/Tasks-Mongo). 

1. Загрузить на сервер MongoDB датасет в соответствии с заданием.
1. Составить запрос в соответствии с заданием.

## Краткие теоретические сведения
- [The Litthe MongoDB Book на русском](http://jsman.ru/mongo-book/)
- [Описание базы данных и команды CRUD](/mesdt/course/wiki/Cheat-list-Mongo) 
- [Описание Aggregation framework](/mesdt/course/wiki/Cheat-list-Mongo-Aggregation-Framework) 

## Порядок выполнения

1. Настройте базу на виртуальной машине или установить сервер MongoDB.
	- Если у вас работает виртуальная машина mesdt, то зайдите `/etc/mongod.conf` и закомментируйте строку, содержащую ip-адрес. После этого перезапустите сервис `mongod`, 
	```
	service mongod restart
	```
это сделает сервер MongoDB доступным извне.
	- Если у вас не работает виртуальная машина, [пройдите сюда](/mesdt/course/wiki/Install-Mongo).
2. Скачайте и распакуйте файл с датасетом, в соответствии с заданием.	
3. Импортируйте базу из файла на сервер, используя команду `mongoimport`. Команду надо запускать в консоли той машины, на которой запущен сервер. 
	
	```
	mongoimport --drop -d shakespeare -c plays shakespeare_plays.json
	```
	
	Здесь `-d shakespeare` - имя базы, `-c plays` - название коллекции, `shakespeare_plays.json` - имя файла для импорта.
	
	Если вы запускаете команду на Windows, возможно вам придется прописать полный путь до файла `mongoimport.exe` (лежит в том же каталоге, что и сервер MongoDB).
	
4. Необязательный, но рекомендуемый шаг. Вы можете выполнять лабораторную работу, используя консоль MongoDB, а можете поставить графическую оболочку [RoboMongo](http://robomongo.org/) для этой консоли.
5. Изучите структуру записей и составляйте запрос в соответствии с заданием.

## Порядок защиты лабораторной работы
При защите необходимо продемонстрировать работу запроса. В отчете должно быть задание, запрос и результат его работы в виде json.
